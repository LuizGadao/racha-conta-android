node {

    checkout([$class: 'GitSCM', branches: [[name: '*/master']], doGenerateSubmoduleConfigurations: false,
        extensions: [], submoduleCfg: [], userRemoteConfigs: [[credentialsId: '2797a6f7-9abc-41ce-b69c-601836ec3812',
        url: 'https://github.com/orogersilva/racha-conta-android.git']]])

    // 1) Compile Stage

    stage 'Compile'
    bat "gradlew.bat clean compileReleaseSources"

    // 2) Tests Stage

    stage 'Tests'
    bat "gradlew.bat testRelease"

    // 3) Assemble Stage

    stage 'Assemble'
    bat "gradlew.bat assembleRelease"

    // 4) Publish Stage

    stage 'Publish'
    bat "gradlew.bat publishApkRelease"
}